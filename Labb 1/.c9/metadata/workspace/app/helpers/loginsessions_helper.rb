{"filter":false,"title":"loginsessions_helper.rb","tooltip":"/app/helpers/loginsessions_helper.rb","undoManager":{"mark":11,"position":11,"stack":[[{"start":{"row":0,"column":26},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":1,"column":0},"end":{"row":1,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":1,"column":4},"end":{"row":2,"column":0},"action":"insert","lines":["",""],"id":3},{"start":{"row":2,"column":0},"end":{"row":2,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":2,"column":4},"end":{"row":3,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":3,"column":0},"end":{"row":3,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":2,"column":4},"end":{"row":48,"column":5},"action":"insert","lines":[" def log_in(user)","    session[:userid] = user.id","  end","","  def log_out","    session.delete(:userid)","    @current_user = nil","  end","","  def current_user","    @current_user ||= User.find_by(id: session[:userid])","  end","","  def is_logged_in?","    !current_user.nil?","  end","","  def check_user","    unless is_logged_in?","      flash[:danger] = \"You must login before you can visit this part of the application.\"","      redirect_to root_path","    end","  end","","  def log_admin_in(admin)","    session[:adminid] = admin.id","  end","","  def log_admin_out","    session.delete(:adminid)","    @current_admin = nil","  end","","  def current_admin","    @current_admin ||= Admin.find_by(id: session[:adminid])","  end","","  def is_admin_logged_in?","    !current_admin.nil?","  end","","  def check_admin","    unless is_admin_logged_in?","      flash[:danger] = \"You must login before you can visit this part of the application.\"","      redirect_to root_path","    end","  end"],"id":5}],[{"start":{"row":12,"column":22},"end":{"row":12,"column":29},"action":"insert","lines":["ApiUser"],"id":6}],[{"start":{"row":12,"column":29},"end":{"row":13,"column":0},"action":"insert","lines":["",""],"id":7},{"start":{"row":13,"column":0},"end":{"row":13,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":13,"column":0},"end":{"row":13,"column":4},"action":"remove","lines":["    "],"id":8}],[{"start":{"row":12,"column":29},"end":{"row":13,"column":0},"action":"remove","lines":["",""],"id":9}],[{"start":{"row":12,"column":28},"end":{"row":12,"column":29},"action":"remove","lines":["r"],"id":10}],[{"start":{"row":12,"column":27},"end":{"row":12,"column":28},"action":"remove","lines":["e"],"id":11}],[{"start":{"row":12,"column":26},"end":{"row":12,"column":27},"action":"remove","lines":["s"],"id":12}],[{"start":{"row":12,"column":25},"end":{"row":12,"column":26},"action":"remove","lines":["U"],"id":13}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":12,"column":25},"end":{"row":12,"column":25},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":11,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1454437422000,"hash":"562a510155607b865d06eb6a848ffd3cd9616e1c"}